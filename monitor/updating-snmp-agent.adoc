---
permalink: monitor/updating-snmp-agent.html 
sidebar: sidebar 
keywords: how to update the SNMP agent 
summary: SNMP 通知の無効化、コミュニティストリングの更新、エージェントアドレス、 USM ユーザ、トラップの送信先の追加や削除を行うことができます。 
---
= SNMP エージェントを更新します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SNMP 通知の無効化、コミュニティストリングの更新、エージェントアドレス、 USM ユーザ、トラップの送信先の追加や削除を行うことができます。

.作業を開始する前に
* を使用して Grid Manager にサインインする必要があります link:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]。
* Root Access権限が必要です。


.このタスクについて
を更新するたびに link:configuring-snmp-agent.html["SNMP エージェントの設定"]各タブで行った変更をコミットするには、[SNMP Agent]ページの下部にある*[保存]*を選択する必要があることに注意してください。

.手順
. * configuration * > * Monitoring * > * SNMP agent * を選択します。
+
SNMP Agent ページが表示されます。

. すべてのグリッドノードでSNMPエージェントを無効にする場合は、*[Enable SNMP]*チェックボックスをオフにし、*[Save]*を選択します。
+
SNMP エージェントはすべてのグリッドノードで無効になっています。あとでエージェントを再度有効にした場合、以前の SNMP 設定は保持されます。

. 必要に応じて、入力した値を * System Contact * および * System Location * で更新します。
. 必要に応じて、StorageGRID SNMPエージェントからトラップおよびインフォーム通知を送信しないようにする場合は、* SNMPエージェント通知を有効にする*チェックボックスをオフにします。
+
このチェックボックスをオフにすると、SNMPエージェントは読み取り専用のMIBアクセスをサポートしますが、SNMP通知は送信しません。

. 適切に認証されていないプロトコルメッセージを受信したときにStorageGRID SNMPエージェントから認証トラップが送信されないようにするには、[認証トラップを有効にする]*チェックボックスをオフにします。
. SNMPv1 または SNMPv2c を使用する場合は、必要に応じてコミュニティストリングセクションを更新します。
+
このセクションのフィールドは、 SNMPv1 または SNMPv2c でのコミュニティベースの認証に使用されます。これらのフィールドはSNMPv3には適用されません。

+

NOTE: デフォルトのコミュニティストリングを削除する場合は、最初にすべてのトラップ送信先でカスタムのコミュニティストリングを使用する必要があります。

. エージェントアドレスを更新する場合は、 [ その他の設定 ] セクションの [ エージェントアドレス ] タブを選択します。
+
image::../media/snmp_other_configurations_agent_addresses_table.png[SNMP Other Configurations Agent Addresses Table （その他の設定エージェントアドレステーブル]

+
このタブを使用して '1 つまたは複数の " リスニング・アドレス " を指定します これらは、 SNMP エージェントがクエリを受信できる StorageGRID アドレスです。各エージェントアドレスには、インターネットプロトコル、転送プロトコル、 StorageGRID ネットワーク、ポートが含まれます。

+
.. エージェントアドレスを追加するには、*[作成]*を選択します。次に、 SNMP エージェントの設定手順に記載されているエージェントアドレスの手順を参照してください。
.. エージェントアドレスを編集するには、アドレスのラジオボタンを選択し、*[編集]*を選択します。次に、 SNMP エージェントの設定手順に記載されているエージェントアドレスの手順を参照してください。
.. エージェントアドレスを削除するには、アドレスのラジオボタンを選択し、*[削除]*を選択します。次に、* OK *を選択して、このアドレスを削除することを確認します。
.. 変更をコミットするには、[SNMP Agent]ページの下部にある*[Save]*を選択します。


. USM ユーザを更新するには、 Other Configurations セクションで USM Users タブを選択します。
+
image::../media/snmp_other_config_usm_users_table.png[SNMP その他の設定 USM ユーザテーブル]

+
このタブを使用して、 MIB の照会またはトラップおよびインフォームの受信を許可されている USM ユーザを定義します。

+
.. USMユーザを追加するには、*[作成]*を選択します。次に、 SNMP エージェントの設定手順の USM ユーザ向けの手順を参照してください。
.. USMユーザを編集するには、ユーザのラジオボタンを選択し、*[編集]*を選択します。次に、 SNMP エージェントの設定手順の USM ユーザ向けの手順を参照してください。
+
既存のUSMユーザのユーザ名は変更できません。ユーザ名を変更する必要がある場合は、ユーザを削除して新しいユーザを作成する必要があります。

+

NOTE: ユーザの権限のあるエンジン ID を追加または削除した場合、そのユーザが現在デスティネーションに対して選択されているときは、手順の説明に従って、デスティネーションを編集または削除する必要があります <<SNMP_TRAP_DESTINATION,SNMP トラップの送信先>>。そうしないと、 SNMP エージェント設定を保存したときに検証エラーが発生します。

.. USMユーザを削除するには、ユーザのラジオボタンを選択し、*[削除]*を選択します。次に、* OK *を選択して、このユーザの削除を確定します。
+

NOTE: 削除したユーザがトラップの送信先として選択されている場合は、手順の説明に従って、送信先を編集または削除する必要があります <<SNMP_TRAP_DESTINATION,SNMP トラップの送信先>>。そうしないと、 SNMP エージェント設定を保存したときに検証エラーが発生します。

.. 変更をコミットするには、[SNMP Agent]ページの下部にある*[Save]*を選択します。


. [[snmp_trap_destination, start=9] トラップ送信先を更新するには、 [ その他の設定 ] セクションの [ トラップ送信先 ] タブを選択します。
+
トラップ送信先タブでは、 StorageGRID トラップまたは通知の送信先を 1 つ以上定義できます。SNMPエージェントを有効にして*[保存]*を選択すると、StorageGRID は定義された各送信先への通知の送信を開始します。通知は、アラートとアラームがトリガーされたときに送信されます。標準通知は、サポートされている MIB-II エンティティ（ ifdown や coldStart など）についても送信されます。

+
.. トラップ送信先を追加するには、*[作成]*を選択します。次に、 SNMP エージェントの設定手順のトラップ送信先の手順を参照してください。
.. トラップ送信先を編集するには、ユーザのラジオボタンを選択し、*[編集]*を選択します。次に、 SNMP エージェントの設定手順のトラップ送信先の手順を参照してください。
.. トラップ送信先を削除するには、送信先のラジオボタンを選択し、*[削除]*を選択します。次に、* OK *を選択して、この送信先の削除を確定します。
.. 変更をコミットするには、[SNMP Agent]ページの下部にある*[Save]*を選択します。


. SNMPエージェントの設定を更新したら、*[保存]*を選択します。

