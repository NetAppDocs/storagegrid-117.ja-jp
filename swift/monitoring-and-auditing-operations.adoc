---
permalink: swift/monitoring-and-auditing-operations.html 
sidebar: sidebar 
keywords: monitor operations, audit operations 
summary: グリッド全体または特定のノードのトランザクションの傾向を確認することで、クライアント処理のワークロードと効率を監視できます。監査メッセージを使用して、クライアント処理とトランザクションを監視できます。 
---
= 監視と監査の処理
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
グリッド全体または特定のノードのトランザクションの傾向を確認することで、クライアント処理のワークロードと効率を監視できます。監査メッセージを使用して、クライアント処理とトランザクションを監視できます。



== オブジェクトの取り込み速度と読み出し速度を監視する

オブジェクトの取り込み速度と読み出し速度、およびオブジェクト数、クエリ、検証関連の指標を監視できます。StorageGRID システムのオブジェクトに対してクライアントアプリケーションが試みた読み取り、書き込み、変更の各処理について、成功した回数と失敗した回数を表示できます。

.手順
. を使用して Grid Manager にサインインします link:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]。
. ダッシュボードで、*[パフォーマンス]*>* S3処理]*または*[パフォーマンス]*>* Swift処理*を選択します。
+
このセクションには、 StorageGRID システムによって実行されたクライアント処理の回数に関する概要が表示されます。プロトコル速度は過去 2 分間の平均値です。

. [* nodes （ノード） ] を選択します
. ノードのホームページ（導入レベル）で、 * ロードバランサ * タブをクリックします。
+
このグラフには、グリッド内でロードバランサエンドポイントに送信されるすべてのクライアントトラフィックの傾向が表示されます。時間、日、週、月、年単位の間隔を選択できます。 または、カスタムの間隔を適用することもできます。

. ノードのホームページ（導入レベル）で、 * Objects * タブをクリックします。
+
グラフには、 StorageGRID システム全体の取り込み速度と読み出し速度が、 1 秒あたりのバイト数と合計バイト数で表示されます。時間、日、週、月、年単位の間隔を選択できます。 または、カスタムの間隔を適用することもできます。

. 特定のストレージノードに関する情報を表示するには、左側のリストからノードを選択し、 * Objects * タブをクリックします。
+
グラフには、このストレージノードのオブジェクトの取り込み速度と読み出し速度が表示されます。このタブには、オブジェクト数、クエリ、検証関連の指標も表示されます。ラベルをクリックすると、これらの指標の定義を確認できます。

+
image::../media/nodes_storage_node_objects_help.png[ノード > ストレージノード > オブジェクト > 属性ヘルプのスクリーンショット]

. さらに詳細な情報が必要な場合は、次の手順に従います
+
.. サポート * > * ツール * > * グリッドトポロジ * を選択します。
.. [*_site *>] > [* Overview *] > [* Main*] を選択します。
+
API Operations セクションには、グリッド全体の概要情報が表示されます。

.. 「 * _ ストレージノード _ * > * LDR * > * _ クライアントアプリケーション _ * > * 概要 * > * Main * 」を選択します
+
Operations セクションには、選択したストレージノードに関する概要情報が表示されます。







== 監査ログにアクセスして確認する

監査メッセージは StorageGRID サービスによって生成され、テキスト形式のログファイルに保存されます。監査ログの API 固有の監査メッセージにより、セキュリティ、運用、およびパフォーマンスについて、システムの健全性の評価に役立つ重要な監視データが提供されます。

.作業を開始する前に
* 特定のアクセス権限が必要です。
* を用意しておく必要があります `Passwords.txt` ファイル。
* 管理ノードの IP アドレスを確認しておく必要があります。


.このタスクについて
。 link:../audit/audit-message-flow-and-retention.html["アクティブな監査ログファイル"] という名前が付けられます `audit.log`をクリックし、を管理ノードに格納します。

1 日に 1 回、アクティブな audit.log ファイルが保存され、新しい audit.log ファイルが開始されます。保存されたファイルの名前は、保存された日時をの形式で示しています `yyyy-mm-dd.txt`。

1日後、保存されたファイルは圧縮され、という形式で名前が変更されます `yyyy-mm-dd.txt.gz`元の日付を保持します。

次の例は、アクティブなaudit.logファイル、前日のファイル（2018-04-15.txt）、および前日の圧縮されたファイルを示しています (`2018-04-14.txt.gz`）。

[listing]
----
audit.log
2018-04-15.txt
2018-04-14.txt.gz
----
.手順
. 管理ノードにログインします。
+
.. 次のコマンドを入力します。 `ssh admin@_primary_Admin_Node_IP_`
.. に記載されているパスワードを入力します `Passwords.txt` ファイル。
.. 次のコマンドを入力してrootに切り替えます。 `su -`
.. に記載されているパスワードを入力します `Passwords.txt` ファイル。
+
rootとしてログインすると、プロンプトがから変わります `$` 終了： `#`。



. 監査ログファイルが保存されているディレクトリに移動します。``cd /var/local/audit/export``
. 必要に応じて、現在の監査ログファイルまたは保存された監査ログファイルを表示します。




=== 監査ログで追跡される Swift 処理

ストレージで成功したDELETE、GET、HEAD、POST、PUTの各処理は、で追跡されます link:../audit/audit-messages-main.html["StorageGRID 監査ログ"]。障害はログに記録されず、info、auth、options要求も記録されません。

次のSwift処理に関する情報が追跡されます。



==== アカウントの処理

* link:account-operations.html["GET アカウント"]
* link:account-operations.html["HEAD アカウント"]




==== コンテナの処理

* link:container-operations.html["コンテナを削除します"]
* link:container-operations.html["GET コンテナ"]
* link:container-operations.html["HEAD コンテナ"]
* link:container-operations.html["PUT コンテナ"]




==== オブジェクトの処理

* link:object-operations.html["オブジェクトを削除します"]
* link:object-operations.html["GET オブジェクト"]
* link:object-operations.html["HEAD オブジェクト"]
* link:object-operations.html["PUT オブジェクト"]

